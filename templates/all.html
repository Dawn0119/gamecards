{% extends "index.html" %}

{% block title %}全部顯示{% endblock %}

{% block content %}

<div class="filter-bar">
  <h2 class="text-lg font-bold mb-2">卡片類型</h2>
  <button onclick="filterCards(this, '全部')" class="active">全部</button>
  <button onclick="filterCards(this, '同步')">同步</button>
  <button onclick="filterCards(this, '超量')">超量</button>
  <button onclick="filterCards(this, '融合')">融合</button>
  <button onclick="filterCards(this, '連結')">連結</button>
  <button onclick="filterCards(this, '魔法')">魔法</button>
  <button onclick="filterCards(this, '陷阱')">陷阱</button>
  <button onclick="filterCards(this, '效果')">效果</button>
  <button onclick="filterCards(this, '通常')">通常</button>
  <button onclick="filterCards(this, '儀式')">儀式</button>
  <button onclick="filterCards(this, '靈擺')">靈擺</button>
</div>

<p>所有卡片</p>
<div class="h-[3000px] bg-gray-100">
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>............... (測試用內容)<br>
  ............... (測試用內容)<br>
  ............... (測試用內容)
</div>

<script>
  function filterCards(button, type) {
    // 高亮目前選中的按鈕
    document.querySelectorAll('.filter-bar button').forEach(btn => {
      btn.classList.remove('active');
    });
    button.classList.add('active');

    // 篩選卡片
    const cards = document.querySelectorAll('.card-item');
    cards.forEach(card => {
      const text = card.querySelector('.card-text').innerText;
      const typeLine = text.split('\n').find(line => line.trim().startsWith('類型:'));

      if (type === '全部') {
        card.style.display = 'block';
      } else if (typeLine && typeLine.includes(type)) {
        card.style.display = 'block';
      } else {
        card.style.display = 'none';
      }
    });
  }
</script>

<style>
  .filter-bar {
    position: sticky;
    top: 0;
    justify-content: center;
    background-color: #111; /* 深色背景 */
    z-index: 1000;
    flex-wrap: wrap;
    display: flex;
    white-space: nowrap;
    gap: 10px;
    padding: 10px;
    border-bottom: 1px solid #333; /* 暗色底線 */
    font-family: "Orbitron", sans-serif;
  }

  .filter-bar button {
    padding: 0.5em 0.5em;
    margin: 0.1em;
    min-width: 80px;
    font-size: 14px;
    flex-shrink: 0;
    border: 1px solid #33ffff;
    background-color: transparent;
    color: #33ffff;
    border-radius: 5px;
    cursor: pointer;
    transition: 0.2s;
  }

  .filter-bar button:hover {
    background-color: #33ffff;
    color: #000;
  }

  .filter-bar button.active {
    background-color: #33ffff;
    color: #000;
  }

  /* 卡片展示區可加上暗背景，或用現有的 */
  .bg-gray-100 {
    background-color: #0a0a0a;  /* 暗背景 */
    color: #eee;
    font-family: "Orbitron", sans-serif;
    padding: 20px;
  }
</style>

{% endblock %}